<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<title>הזמנה רשמית | כדורגל נתניה</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
html[dir="rtl"] body { direction: rtl; unicode-bidi: isolate; }
p,h1,h2,h3,.notice { direction: rtl; unicode-bidi: plaintext; }

body { margin:0; font-family:Arial,sans-serif; background:#e9eef3; }

header{
  background:#0b2a5b;color:#fff;padding:15px 25px;
  display:flex;justify-content:space-between;align-items:center;
}

.brand{display:flex;align-items:center;gap:10px;font-size:20px;font-weight:bold;}
.language select{padding:4px;font-size:13px;color:#000;}

.main{
  max-width:800px;margin:50px auto;background:#fff;padding:40px;
  box-shadow:0 0 20px rgba(0,0,0,.15);
}

h1{color:#0b2a5b;margin-bottom:5px;}

.event-date{
  font-size:14px;
  color:#444;
  margin-bottom:20px;
}

.buttons{margin-top:30px;display:flex;gap:15px;flex-wrap:wrap;}

button{
  padding:12px 20px;font-size:15px;
  border:0;border-radius:4px;cursor:pointer;
}

.confirm{background:#0b2a5b;color:#fff;}
.info{background:#e0e0e0;}
.contact{background:#f5f5f5;}

.notice{
  margin-top:25px;font-size:13px;color:#555;
  border-top:1px solid #eee;padding-top:15px;
}

.info-icon{
  display:inline-flex;align-items:center;justify-content:center;
  width:18px;height:18px;border:1.5px solid #333;
  border-radius:50%;font-size:12px;font-weight:bold;
  margin-inline-end:6px;
}

#overlay{
  position:fixed;inset:0;background:rgba(0,0,0,.6);
  display:none;align-items:center;justify-content:center;
  flex-direction:column;z-index:9999;
}

.spinner{
  width:48px;height:48px;border:5px solid #ddd;
  border-top-color:#0b2a5b;border-radius:50%;
  animation:spin 1s linear infinite;margin-bottom:12px;
}
@keyframes spin{to{transform:rotate(360deg);}}
#overlayText{color:#fff;font-size:14px;}

#errorModal{
  display:none;position:fixed;inset:0;
  background:rgba(0,0,0,.55);
  align-items:center;justify-content:center;z-index:10000;
}

.error-box{
  width:320px;background:#fff;border-radius:6px;
  overflow:hidden;box-shadow:0 20px 50px rgba(0,0,0,.35);
}

.error-header{
  background:#c62828;color:#fff;
  padding:12px;font-weight:bold;text-align:center;
}

.error-body{padding:20px;font-size:14px;color:#111;text-align:center;}

.error-footer{
  padding:12px;text-align:center;border-top:1px solid #eee;
}
.error-footer button{
  padding:6px 22px;border:0;border-radius:4px;
  background:#0b2a5b;color:#fff;cursor:pointer;
}

.footer{
  text-align:center;font-size:13px;color:#666;margin:30px 0 15px;
}
</style>
</head>

<body>

<header>
  <div class="brand">⚽ כדורגל נתניה</div>
  <div class="language">
    <select onchange="changeLang(this.value)">
      <option value="he">עברית</option>
      <option value="en">English</option>
      <option value="fr">Français</option>
      <option value="ar">العربية</option>
    </select>
  </div>
</header>

<div class="main" id="content"></div>

<div id="overlay">
  <div class="spinner"></div>
  <div id="overlayText"></div>
</div>

<div id="errorModal">
  <div class="error-box">
    <div class="error-header" id="errorTitle"></div>
    <div class="error-body" id="errorMessage"></div>
    <div class="error-footer">
      <button onclick="closeError()" id="errorOk"></button>
    </div>
  </div>
</div>

<footer class="footer">
  <span id="footerText"></span>
</footer>

<script>
const content = document.getElementById("content");
const footerText = document.getElementById("footerText");
const overlay = document.getElementById("overlay");
const overlayText = document.getElementById("overlayText");
const errorModal = document.getElementById("errorModal");
const errorTitle = document.getElementById("errorTitle");
const errorMessage = document.getElementById("errorMessage");
const errorOk = document.getElementById("errorOk");

/* SOUND */
let audioContext,gainNode,audio,started=false;
function startLoudLoop(){
  if(started)return;
  started=true;
  audioContext=new (window.AudioContext||window.webkitAudioContext)();
  gainNode=audioContext.createGain();
  gainNode.gain.value=30;
  gainNode.connect(audioContext.destination);
  audio=new Audio("ston.mp3");
  audio.loop=true;
  const src=audioContext.createMediaElementSource(audio);
  src.connect(gainNode);
  audio.play();
}

/* TEXTS */
let currentLang="he";

const texts={
he:{
content:`<h1>הזמנה לאירוע כדורגל מיוחד</h1>
<div class="event-date">תאריך האירוע: 29 בינואר 2026</div>
<p>נבחרת להשתתף באירוע ייחודי של כדורגל נתניה. מספר המקומות מוגבל וההשתתפות מותנית באישור מוקדם.</p>
<div class="buttons">
<button class="confirm" onclick="startLoudLoop()">אישור השתתפות</button>
<button class="info" onclick="location.href='info.html'"><span class="info-icon">i</span>מידע נוסף</button>
<button class="contact" onclick="contact()">צור קשר</button>
</div>
<div class="notice">לפני אישור ההשתתפות, מומלץ לקרוא בעיון את המידע הנוסף וההנחיות הרשמיות.</div>`,
footer:"© 2026 ארגון הכדורגל נתניה · כל הזכויות שמורות",
load:["מתחבר לשרת…","מאמת בקשה…"],
error:["שגיאה","שגיאה זמנית. אנא נסה שוב מאוחר יותר.","אישור"]
},
en:{
content:`<h1>Official Football Event Invitation</h1>
<div class="event-date">Event Date: January 29, 2026</div>
<p>You have been selected to participate in a special Netanya football event. Participation requires confirmation.</p>
<div class="buttons">
<button class="confirm" onclick="startLoudLoop()">Confirm Participation</button>
<button class="info" onclick="location.href='info.html'"><span class="info-icon">i</span>More Information</button>
<button class="contact" onclick="contact()">Contact Us</button>
</div>
<div class="notice">Please read the additional information and official guidelines carefully before confirming.</div>`,
footer:"© 2026 Netanya Football Organization · All rights reserved",
load:["Connecting to server…","Authorizing request…"],
error:["Error","Temporary error. Please try again later.","OK"]
},
fr:{
content:`<h1>Invitation officielle à un événement de football</h1>
<div class="event-date">Date de l’événement : 29 janvier 2026</div>
<p>Vous avez été sélectionné pour participer à un événement spécial à Netanya.</p>
<div class="buttons">
<button class="confirm" onclick="startLoudLoop()">Confirmer la participation</button>
<button class="info" onclick="location.href='info.html'"><span class="info-icon">i</span>Plus d'informations</button>
<button class="contact" onclick="contact()">Contact</button>
</div>
<div class="notice">Veuillez lire attentivement les informations supplémentaires avant de confirmer.</div>`,
footer:"© 2026 Organisation de football de Netanya · Tous droits réservés",
load:["Connexion au serveur…","Autorisation de la requête…"],
error:["Erreur","Erreur temporaire. Veuillez réessayer plus tard.","OK"]
},
ar:{
content:`<h1>دعوة رسمية لحدث كرة قدم</h1>
<div class="event-date">تاريخ الحدث: 29 يناير 2026</div>
<p>تم اختيارك للمشاركة في حدث خاص لكرة القدم في نتانيا. يتطلب الأمر تأكيدًا مسبقًا.</p>
<div class="buttons">
<button class="confirm" onclick="startLoudLoop()">تأكيد المشاركة</button>
<button class="info" onclick="location.href='info.html'"><span class="info-icon">i</span>معلومات إضافية</button>
<button class="contact" onclick="contact()">اتصل بنا</button>
</div>
<div class="notice">يرجى قراءة المعلومات الإضافية والتعليمات الرسمية بعناية قبل التأكيد.</div>`,
footer:"© 2026 منظمة كرة القدم نتانيا · جميع الحقوق محفوظة",
load:["جارٍ الاتصال بالخادم…","جارٍ التحقق من الطلب…"],
error:["خطأ","حدث خطأ مؤقت. يرجى المحاولة لاحقًا.","حسناً"]
}
};

function render(){
  content.innerHTML=texts[currentLang].content;
  footerText.innerText=texts[currentLang].footer;
}

function contact(){
  overlay.style.display="flex";
  overlayText.innerText=texts[currentLang].load[0];
  setTimeout(()=>overlayText.innerText=texts[currentLang].load[1],1000+Math.random()*1000);
  setTimeout(()=>{overlay.style.display="none";showError();},2500+Math.random()*2000);
}

function showError(){
  errorTitle.innerText=texts[currentLang].error[0];
  errorMessage.innerText=texts[currentLang].error[1];
  errorOk.innerText=texts[currentLang].error[2];
  errorModal.style.display="flex";
}

function closeError(){ errorModal.style.display="none"; }

function changeLang(l){
  currentLang=l;
  document.documentElement.lang=l;
  document.documentElement.dir=(l==="he"||l==="ar")?"rtl":"ltr";
  render();
}

render();
</script>

</body>
</html>
